openapi: 3.0.3
info:
  title: Buyer Service - OpenAPI 3.0
  version: 1.0.0
externalDocs:
  description: Buyer Service draft spec swagger
  url: http://swagger.io
servers:
  - url: "https://proxy.qa.nocnoc-internal.com/buyer-service"
paths:
  /v2/user/address:
    get:
      summary: Get list of user address by orgIdfier and buyerEmail
      tags:
        - User Address V2
      parameters:
        - name: orgIdfier
          in: query
          required: true
          schema:
            type: string
        - name: buyerEmail
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: List of user address
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/userAddress"
    post:
      summary: Create an user address
      tags:
        - User Address V2
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/createUserAddressV2Request"
      responses:
        "201":
          description: Created user address
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/userAddress"

  /v2/user/address/{addressIdfier}:
    get:
      summary: Get one user address by addressIdfier
      tags:
        - User Address V2
      parameters:
        - name: addressIdfier
          in: path
          required: true
          schema:
            type: string
            example: "ADDRS_1722410118947"
      responses:
        "200":
          description: User address
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/userAddress"
    delete:
      summary: Delete one user address by addressIdfier
      tags:
        - User Address V2
      parameters:
        - name: addressIdfier
          in: path
          required: true
          schema:
            type: string
            example: "ADDRS_1722410118947"
      responses:
        "204":
          description: Deleted user address
  /v2/user/address/default:
    get:
      summary: Get default user address by orgIdfier and buyerEmail
      tags:
        - User Address V2
      parameters:
        - name: orgIdfier
          in: query
          required: true
          schema:
            type: string
        - name: buyerEmail
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Default user address
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/userAddress"
    put:
      summary: Update default user address by addressIdfier
      tags:
        - User Address V2
      parameters:
        - name: addressIdfier
          in: query
          required: true
          schema:
            type: string
            example: "ADDRS_1722410118947"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/userAddress"
  /v1/user/quotation/summary:
    post:
      tags:
        - Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          schema:
            type: string
        - name: x-cookie-id
          in: header
          schema:
            type: string
        - name: x-session-id
          in: header
          schema:
            type: string
        - name: x-nocnoc-device-id
          in: header
          description: device id generate from FE
          schema:
            type: string
        - name: x-request-id
          in: header
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
      summary: Calculate price and discount
      description: Calculate price and discount for both product and shipping
      operationId: quotationSummary
      requestBody:
        description: Sum the final quotation
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/quotationSummaryRequest"
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/quotationSummaryResponse"
              examples:
                PlatformIppNotReachMinOrderValue:
                  summary: platform ipp not reach minOrderValue
                  value:
                    data: {
                      quotationData: "<base64>",
                      quotationSignature: "<quotationSignature>",
                      ipp: [
                        {
                          "bankCode": "002",
                          "bankNameTh": "ธนาคารกรุงเทพ",
                          "bankNameEn": "Bangkok Bank",
                          "mdr": 0,
                          "isActive": true,
                          "ippLists": [
                            {
                              "id": 1,
                              "term": 4,
                              "nocnocSub": true,
                              "sellerSub": false,
                              "title": "4 เดือน",
                              "minAmount": 20000,
                            }
                          ]
                        }
                      ],
                      ippSuggestion: {
                        "barType": "min_amount_not_reach",
                        "modalType": "platform_ipp",
                        "minAmount": 20000,
                        "currency": "฿",
                        "badges": [
                            {
                                "key": "installment",
                                "name": "ผ่อน 0% มีขั้นต่ำ",
                                "type": "badge",
                                "backgroundColor": "#F6F7FE",
                                "borderColor": "#E8ECFD",
                                "textColor": "#1334CE"
                            }
                        ]
                      },
                      coupons: [
                        {
                          "promotionId": 1,
                          "couponCode": "123456",
                          "limitApplies": 1,
                          "type": "NOCNOC_COUPON",
                          "status": "VALID"
                        }
                      ],
                      nocnocPoint: {
                        "availablePoint": 100,
                        "pointValue": 10,
                        "pointBalance": 100,
                        "isNocNocClubMember": true
                      },
                      totalPrice: 1000,
                      totalShopCouponDiscount: 100,
                      totalPlatformDiscount: 100,
                      totalPartnerCouponDiscount: 0,
                      totalVoucherDiscount: 0,
                      totalDiscount: 200,
                      totalNocnocPointDiscount: 10,
                      totalPriceAfterDiscount: 790,
                      totalShippingFee: 100,
                      totalSellerShippingDiscount: 50,
                      totalPlatformShippingDiscount: 30,
                      totalShippingFeeAfterDiscount: 20,
                      grandTotalDiscount: 290,
                      grandTotal: 710,
                      currency: "THB"
                    }
                SellerIppNotReachMinOrderValue:
                  summary: seller ipp not reach minOrderValue
                  value:
                    data: {
                      quotationData: "<base64>",
                      quotationSignature: "<quotationSignature>",
                      ipp: [
                        {
                          "bankCode": "002",
                          "bankNameTh": "ธนาคารกรุงเทพ",
                          "bankNameEn": "Bangkok Bank",
                          "mdr": 2.5,
                          "isActive": true,
                          "ippLists": [
                            {
                              "id": 2,
                              "term": 10,
                              "nocnocSub": true,
                              "sellerSub": false,
                              "title": "10 เดือน",
                              "minAmount": 10000,
                            }
                          ]
                        }
                      ],
                      ippSuggestion: {
                        "barType": "min_amount_not_reach",
                        "modalType": "seller_ipp",
                        "minAmount": 10000,
                        "badges": [
                            {
                                "key": "installment",
                                "name": "ผ่อน 0% มีขั้นต่ำ",
                                "type": "badge",
                                "backgroundColor": "#F6F7FE",
                                "borderColor": "#E8ECFD",
                                "textColor": "#1334CE"
                            }
                        ]
                      },
                      coupons: [
                        {
                          "promotionId": 1,
                          "couponCode": "123456",
                          "limitApplies": 1,
                          "type": "NOCNOC_COUPON",
                          "status": "VALID"
                        }
                      ],
                      nocnocPoint: {
                        "availablePoint": 100,
                        "pointValue": 10,
                        "pointBalance": 100,
                        "isNocNocClubMember": true
                      },
                      totalPrice: 1000,
                      totalShopCouponDiscount: 100,
                      totalPlatformDiscount: 100,
                      totalPartnerCouponDiscount: 0,
                      totalVoucherDiscount: 0,
                      totalDiscount: 200,
                      totalNocnocPointDiscount: 10,
                      totalPriceAfterDiscount: 790,
                      totalShippingFee: 100,
                      totalSellerShippingDiscount: 50,
                      totalPlatformShippingDiscount: 30,
                      totalShippingFeeAfterDiscount: 20,
                      grandTotalDiscount: 290,
                      grandTotal: 710,
                      currency: "THB"
                    }
                SellerIppMoreThan1Sku:
                  summary: seller ipp more than 1 sku
                  value:
                    data: {
                      quotationData: "<base64>",
                      quotationSignature: "<quotationSignature>",
                      ipp: [
                        {
                          "bankCode": "002",
                          "bankNameTh": "ธนาคารกรุงเทพ",
                          "bankNameEn": "Bangkok Bank",
                          "mdr": 2.5,
                          "isActive": true,
                          "ippLists": [
                            {
                              "id": 2,
                              "term": 10,
                              "nocnocSub": true,
                              "sellerSub": false,
                              "title": "10 เดือน",
                              "minAmount": 10000,
                            }
                          ]
                        }
                      ],
                      ippSuggestion: {
                        "barType": "more_than_1_sku",
                        "modalType": "seller_ipp",
                        "minAmount": 10000,
                        "badges": [
                            {
                                "key": "installment",
                                "name": "ผ่อน 0% มีขั้นต่ำ",
                                "type": "badge",
                                "backgroundColor": "#F6F7FE",
                                "borderColor": "#E8ECFD",
                                "textColor": "#1334CE"
                            }
                        ]
                      },
                      coupons: [
                        {
                          "promotionId": 1,
                          "couponCode": "123456",
                          "limitApplies": 1,
                          "type": "NOCNOC_COUPON",
                          "status": "VALID"
                        }
                      ],
                      nocnocPoint: {
                        "availablePoint": 100,
                        "pointValue": 10,
                        "pointBalance": 100,
                        "isNocNocClubMember": true
                      },
                      totalPrice: 1000,
                      totalShopCouponDiscount: 100,
                      totalPlatformDiscount: 100,
                      totalPartnerCouponDiscount: 0,
                      totalVoucherDiscount: 0,
                      totalDiscount: 200,
                      totalNocnocPointDiscount: 10,
                      totalPriceAfterDiscount: 790,
                      totalShippingFee: 100,
                      totalSellerShippingDiscount: 50,
                      totalPlatformShippingDiscount: 30,
                      totalShippingFeeAfterDiscount: 20,
                      grandTotalDiscount: 290,
                      grandTotal: 710,
                      currency: "THB"
                    }
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                InvalidParameter:
                  summary: invalid parameter
                  value:
                    errors:
                      title: "invalid_parameter"
                      detail: "Invalid carrierId, please check request body"
                InvalidSignature:
                  summary: invalid signature
                  value:
                    errors:
                      title: "invalid_signature"
                      detail: "Invalid quotationSignature, plase check request body"
                InvalidDeliveryOption:
                  summary: invalid delivery option
                  value:
                    errors:
                      title: "invalid_delivery_option"
                      detail: "delivery option not found"
                InvalidQuotationData:
                  summary: invalid quotation data
                  value:
                    errors:
                      title: "invalid_quotation_data"
                      detail: "Cannot decode quotationData, plase check request body"
        "401":
          description: Unauthorize
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ExternalServerError:
                  summary: Internal server error
                  value:
                    errors:
                      title: "internal_server_error"
                      detail: "Something wrong, or {{some error message}}"
                UnknownPromotionBusinessType:
                  summary: Unknown promotion business type
                  value:
                    errors:
                      title: "unknown_promotion_business_type"
                      detail: "Unknown promotion business type"
        "502":
          description: External Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ExternalServerError:
                  summary: External server error
                  value:
                    errors:
                      title: "external_server_error"
                      detail: "[Promotion] Get seller promotion sku pricing has error"
  /v1/user/my-order:
    post:
      tags:
        - My Orders
      parameters:
        - name: x-nocnoc-platform
          in: header
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          schema:
            type: string
        - name: x-cookie-id
          in: header
          schema:
            type: string
        - name: x-session-id
          in: header
          schema:
            type: string
        - name: x-nocnoc-device-id
          in: header
          description: device id generate from FE
          schema:
            type: string
        - name: x-request-id
          in: header
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
        - name: CF-Request-ID
          in: header
          description: cloudflare request id
          schema:
            type: string
      summary: Get user order lists
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/userOrderListRequest"
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/userOrderListResponse"
  /v1/user/my-order/{userId}/{orderNo}:
    get:
      tags:
        - My Orders
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: orderNo
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/shipmentDetailResponse"
        "403":
          description: Forbidden response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/shipmentDetailErrorResponse"
        "401":
          description: Unauthorize response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/shipmentDetailErrorResponse"
        "404":
          description: Unauthorize response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/shipmentDetailErrorResponse"

  /v1/user/quotation:
    post:
      tags:
        - Quotation
      summary: Create Quotation
      description: ""
      operationId: Create Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: Authorization
          in: header
          description: Token From Login
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateQuotationRequest"
      responses:
        "200":
          description: products with delivery options
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/quotationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
    put:
      tags:
        - Quotation
      summary: Update Quotation
      description: ""
      operationId: Update Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: Authorization
          in: header
          description: Token From Login
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/updateQuotationRequest"
      responses:
        "200":
          description: products with delivery options
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/quotationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"

  /v1/admin/buyer/email:
    get:
      tags:
        - Admin Buyer
      summary: Get buyer email by userId
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: email
          in: query
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/adminBuyerEmailResponse"
              examples:
                Success:
                  summary: success
                  value:
                    userId: 8585
                    userEmail: chiyanun@nocnoc.com
        "404":
          description: Not Found
  /v1/admin/buyer:
    post:
      tags:
        - Admin Buyer
      summary: Create buyer account
      parameters:
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/adminCreateBuyerRequest"
            examples:
              sample1:
                summary: sample1
                value:
                  email: "sample@email.com"
                  fullName: "sample name"
                  phoneNumber: "+66812345678"
                  phoneCountryCode: "+66"
      responses:
        "201":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/adminCreateBuyerResponse"
              examples:
                Success:
                  summary: success
                  value:
                    userId: 8585
                    status: "ACTIVE"
                    verificationToken: "N3UrrRCnskyCBKLKmSelL7NcZD"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                InvalidParameter:
                  summary: invalid parameter
                  value:
                    errors:
                      title: "invalid_parameter"
                      detail: "Invalid email, please check request body"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ExternalServerError:
                  summary: Internal server error
                  value:
                    errors:
                      title: "internal_server_error"
                      detail: "Something wrong, or {{some error message}}"
  /v1/admin/quotation:
    post:
      tags:
        - Admin Quotation
      summary: for admin create Quotation on behalf of user
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/adminCreateQuotationRequest"
      responses:
        "200":
          description: Create Quotation Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/quotationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
    put:
      tags:
        - Admin Quotation
      summary: Admin use for update quotation data on behalf of user
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/adminUpdateQuotationRequest"
      responses:
        "200":
          description: update quotation success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/quotationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
  /v1/admin/quotation/ipp/validation:
    post:
      tags:
        - Admin Quotation
      summary: for Validate IPP Validation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/adminQuotationIppValidationRequest"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/quotationIPPValidationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
  /v1/admin/quotation/promotion/best-coupon:
    post:
      tags:
        - Admin Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/adminQuotationBestCouponRequest"
      responses:
        "200":
          description: "success"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/bestPromotionResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
  /v1/admin/quotation/promotion/validation:
    post:
      tags:
        - Admin Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/adminQuotationBestCouponRequest"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/validationPromotionResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
  /v1/admin/quotation/summary:
    post:
      tags:
        - Admin Quotation
      parameters:
        - name: x-nocnoc-platform
          in: header
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          schema:
            type: string
        - name: x-cookie-id
          in: header
          schema:
            type: string
        - name: x-session-id
          in: header
          schema:
            type: string
        - name: x-request-id
          in: header
          schema:
            type: string
        - name: x-nocnoc-id
          in: header
          required: true
          description: nocnoc-id decrypt by local authorizer
          schema:
            type: string
      requestBody:
        description: Sum the final quotation
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/quotationSummaryRequest"
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/quotationSummaryResponse"
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                InvalidParameter:
                  summary: invalid parameter
                  value:
                    errors:
                      title: "invalid_parameter"
                      detail: "Invalid carrierId, please check request body"
                InvalidSignature:
                  summary: invalid signature
                  value:
                    errors:
                      title: "invalid_signature"
                      detail: "Invalid quotationSignature, plase check request body"
                InvalidDeliveryOption:
                  summary: invalid delivery option
                  value:
                    errors:
                      title: "invalid_delivery_option"
                      detail: "delivery option not found"
                InvalidQuotationData:
                  summary: invalid quotation data
                  value:
                    errors:
                      title: "invalid_quotation_data"
                      detail: "Cannot decode quotationData, plase check request body"
        "401":
          description: Unauthorize
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ExternalServerError:
                  summary: Internal server error
                  value:
                    errors:
                      title: "internal_server_error"
                      detail: "Something wrong, or {{some error message}}"
                UnknownPromotionBusinessType:
                  summary: Unknown promotion business type
                  value:
                    errors:
                      title: "unknown_promotion_business_type"
                      detail: "Unknown promotion business type"
        "502":
          description: External Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ExternalServerError:
                  summary: External server error
                  value:
                    errors:
                      title: "external_server_error"
                      detail: "[Promotion] Get seller promotion sku pricing has error"

  /v1/user/cart:
    get:
      tags:
        - Cart
      summary: Get Cart
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-id
          in: header
          description: Required in guest mode
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: Authorization
          in: header
          description: Token From Login
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CartResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
  /v1/user/orders:
    post:
      summary: Create order
      tags:
        - Order
      parameters:
        - description: x-nocnoc-platform
          in: header
          name: x-nocnoc-platform
          schema:
            type: string
        - description: x-nocnoc-device-os
          in: header
          name: x-nocnoc-device-os
          schema:
            type: string
        - description: Not Required when x-nocnoc-platform is web
          in: header
          name: x-nocnoc-cookie-id
          schema:
            type: string
        - description: Not Required when x-nocnoc-platform is web
          in: header
          name: x-nocnoc-session-id
          schema:
            type: string
        - description: x-nocnoc-device-id
          in: header
          name: x-nocnoc-device-id
          schema:
            type: string
        - description: x-nocnoc-id
          in: header
          name: x-nocnoc-id
          schema:
            type: string
        - description: accept-language
          in: header
          name: accept-language
          schema:
            type: string
      requestBody:
        description: create order request
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/createOrderRequest"
        required: true
      responses:
        "201":
          description: Created operation
          content:
            application/json:
              schema:
                type: object
                required: ["data"]
                properties:
                  data:
                    type: object
                    oneOf:
                      - $ref: "#/components/schemas/createOrderResponse"
              examples:
                PaymentTypeQR:
                  summary: paymentType = QR
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "QR"
                      authorizeUrl: ""
                      scannableCode: "xxxxxxxx"
                      transactionId: "zzzzzzzz"
                PaymentTypeCard:
                  summary: paymentType = Card
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "CARD"
                      authorizeUrl: "https://www.example.com"
                      scannableCode: ""
                      transactionId: "zzzzzzzz"
                PaymentTypeIPP:
                  summary: paymentType = IPP
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "IPP"
                      authorizeUrl: "https://www.example.com"
                      scannableCode: ""
                      transactionId: "zzzzzzzz"
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ErrorUnmarshal:
                  summary: error unmarshal
                  value:
                    errors:
                      title: "error_unmarshal"
                      detail: "cannot unmarshal data"
                ErrorDecode64:
                  summary: error decode64
                  value:
                    errors:
                      title: "error_decode64"
                      detail: "decode64 data error"
                InvalidSignature:
                  summary: invalid signature
                  value:
                    errors:
                      title: "invalid_signature"
                      detail: "invalid signature"
                NotfoundAddress:
                  summary: not found address
                  value:
                    errors:
                      title: "notfound_address"
                      detail: "not found address"
                NotfoundProduct:
                  summary: not found product
                  value:
                    errors:
                      title: "notfound_product"
                      detail: "not found product"
                InvalidAllShipping:
                  summary: invalid all shipping
                  value:
                    errors:
                      title: "invalid_all_shipping"
                      detail: "all shipping not available"
                InvalidSomeShipping:
                  summary: invalid some shipping
                  value:
                    errors:
                      title: "invalid_some_shipping"
                      detail: "some shipping not available"
                OutOfStockProduct:
                  summary: out of stock product
                  value:
                    errors:
                      title: "out_of_stock_product"
                      detail: "product out of stock"
                InvalidSelectedDelivery:
                  summary: invalid selected delivery
                  value:
                    errors:
                      title: "invalid_selected_delivery"
                      detail: "invalid selected delivery"
                InvalidShippingCost:
                  summary: invalid shipping cost
                  value:
                    errors:
                      title: "invalid_shipping_cost"
                      detail: "invalid shipping cost"
                InvalidPrice:
                  summary: invalid price
                  value:
                    errors:
                      title: "invalid_price"
                      detail: "invalid price"
                InvalidPlatformPartnerCoupon:
                  summary: invalid platform partner coupon
                  value:
                    errors:
                      title: "invalid_platform_partner_coupon"
                      detail: "invalid platform partner coupon"
                InvalidShopCoupon:
                  summary: invalid shop coupon
                  value:
                    errors:
                      title: "invalid_shop_coupon"
                      detail: "invalid shop coupon"
                InvalidPoint:
                  summary: invalid point
                  value:
                    errors:
                      title: "invalid_point"
                      detail: "invalid point"
                InvalidSummary:
                  summary: invalid summary
                  value:
                    errors:
                      title: "invalid_summary"
                      detail: "invalid summary"
                InvalidCouponPayment:
                  summary: invalid coupon payment
                  value:
                    errors:
                      title: "invalid_coupon_payment"
                      detail: "invalid coupon payment"
                InvalidIpp:
                  summary: invalid ipp
                  value:
                    errors:
                      title: "invalid_ipp"
                      detail: "invalid ipp"
                InvalidIppPromotion:
                  summary: invalid ipp promotion
                  value:
                    errors:
                      title: "invalid_ipp_promotion"
                      detail: "invalid ipp promotion"
                ErrorGetUserInfo:
                  summary: error get user info
                  value:
                    errors:
                      title: "error_get_user_info"
                      detail: "error get user info"
                NotfoundUserInfo:
                  summary: not found user info
                  value:
                    errors:
                      title: "notfound_user_info"
                      detail: "not found user info"
        "401":
          description: Unauthorize
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                CreatedButPaymentFailed:
                  summary: order created but payment failed
                  value:
                    errors:
                      title: "ORDER_CREATED_PAYMENT_FAILED"
                      detail: "Order created but payment failed, please check order status and re-pay"
                      additionalFields:
                        data:
                          expiresAt: "2021-01-01T00:00:00Z"
                          msg: ""
                          orderNo: "TEST_ORDER"
                          orderStatus: "PLACED"
                          paymentType: "QR"
                          authorizeUrl: ""
                          scannableCode: ""
                          transactionId: "zzzzzzzz"
                ErrorGetPromotionDetail:
                  summary: error get promotion detail
                  value:
                    errors:
                      title: "error_get_promotion_detail"
                      detail: "error get promotion detail"
                ErrorBreakdownSaleOrder:
                  summary: error breakdown sale order
                  value:
                    errors:
                      title: "error_break_down_sale_order"
                      detail: "error break down sale order"
                ErrorGetNoncnocDiscountPoint:
                  summary: error get noncnoc discount point
                  value:
                    errors:
                      title: "error_get_noncnoc_discount_point"
                      detail: "error get noncnoc discount point"
                ErrorGetAddress:
                  summary: error get address
                  value:
                    errors:
                      title: "error_get_address"
                      detail: "error get address"
                ErrorProductRepository:
                  summary: error product repository
                  value:
                    errors:
                      title: "error_product_repository"
                      detail: "cannot get products by SKUs from repository"
                ErrorCouponPaymentValidate:
                  summary: error coupon payment validate
                  value:
                    errors:
                      title: "error_coupon_payment_validate"
                      detail: "error coupon payment validate"
                ErrorPromotionPartnershipValidate:
                  summary: error promotion partnership validate
                  value:
                    errors:
                      title: "error_promotion_partnership_validate"
                      detail: "error promotion partnership validate"
                ErrorIppAssignment:
                  summary: error ipp assignment
                  value:
                    errors:
                      title: "error_ipp_assignment"
                      detail: "error ipp assignment"
                ErrorCreateOrder:
                  summary: error create order
                  value:
                    errors:
                      title: "error_create_order"
                      detail: "error create order"
                CreateOrderUnsuccessful:
                  summary: create order unsuccessful
                  value:
                    errors:
                      title: "create_order_unsuccessful"
                      detail: "create order unsuccessful"
                ProductPriceOrShippingInvalid:
                  summary: product price or shipping invalid
                  value:
                    errors:
                      title: "product_price_or_shipping_invalid"
                      detail: "product price or shipping invalid"
                CreateOrderInventoryInvalid:
                  summary: create order inventory invalid
                  value:
                    errors:
                      title: "create_order_inventory_invalid"
                      detail: "create order inventory invalid"
  /v1/user/orders/{orderNo}/retry-payment:
    post:
      tags:
        - Order
      parameters:
        - name: orderNo
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/retryPaymentRequest"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/retryPaymentResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
              examples:
                errorUnmarshal:
                  value:
                    errors:
                      title: error_unmarshal
                      detail: cannot unmarshal data
        "404":
          description: NotFound
        "401":
          description: Unauthorize
        "500":
          description: internal server error
  /v1/admin/orders:
    post:
      summary: Admin Create order
      tags:
        - Admin Order
      parameters:
        - description: x-nocnoc-platform
          in: header
          name: x-nocnoc-platform
          schema:
            type: string
        - description: x-nocnoc-device-os
          in: header
          name: x-nocnoc-device-os
          schema:
            type: string
        - description: Not Required when x-nocnoc-platform is web
          in: header
          name: x-nocnoc-cookie-id
          schema:
            type: string
        - description: Not Required when x-nocnoc-platform is web
          in: header
          name: x-nocnoc-session-id
          schema:
            type: string
        - description: x-nocnoc-device-id
          in: header
          name: x-nocnoc-device-id
          schema:
            type: string
        - description: x-nocnoc-id
          in: header
          name: x-nocnoc-id
          schema:
            type: string
        - description: accept-language
          in: header
          name: accept-language
          schema:
            type: string
      requestBody:
        description: create order request
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/adminCreateOrderRequest"
        required: true
      responses:
        "201":
          description: Created operation
          content:
            application/json:
              schema:
                type: object
                required: ["data"]
                properties:
                  data:
                    type: object
                    oneOf:
                      - $ref: "#/components/schemas/createOrderResponse"
              examples:
                PaymentTypeQR:
                  summary: paymentType = QR
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "QR"
                      authorizeUrl: ""
                      scannableCode: "xxxxxxxx"
                      transactionId: "zzzzzzzz"
                PaymentTypeCard:
                  summary: paymentType = Card
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "CARD"
                      authorizeUrl: "https://www.example.com"
                      scannableCode: ""
                      transactionId: "zzzzzzzz"
                PaymentTypeIPP:
                  summary: paymentType = IPP
                  value:
                    data:
                      expiresAt: "2021-01-01T00:00:00Z"
                      msg: "success"
                      orderNo: "TEST_ORDER"
                      orderStatus: "PLACED"
                      paymentType: "IPP"
                      authorizeUrl: "https://www.example.com"
                      scannableCode: ""
                      transactionId: "zzzzzzzz"
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                ErrorUnmarshal:
                  summary: error unmarshal
                  value:
                    errors:
                      title: "error_unmarshal"
                      detail: "cannot unmarshal data"
                ErrorDecode64:
                  summary: error decode64
                  value:
                    errors:
                      title: "error_decode64"
                      detail: "decode64 data error"
                InvalidSignature:
                  summary: invalid signature
                  value:
                    errors:
                      title: "invalid_signature"
                      detail: "invalid signature"
                NotfoundAddress:
                  summary: not found address
                  value:
                    errors:
                      title: "notfound_address"
                      detail: "not found address"
                NotfoundProduct:
                  summary: not found product
                  value:
                    errors:
                      title: "notfound_product"
                      detail: "not found product"
                InvalidAllShipping:
                  summary: invalid all shipping
                  value:
                    errors:
                      title: "invalid_all_shipping"
                      detail: "all shipping not available"
                InvalidSomeShipping:
                  summary: invalid some shipping
                  value:
                    errors:
                      title: "invalid_some_shipping"
                      detail: "some shipping not available"
                OutOfStockProduct:
                  summary: out of stock product
                  value:
                    errors:
                      title: "out_of_stock_product"
                      detail: "product out of stock"
                InvalidSelectedDelivery:
                  summary: invalid selected delivery
                  value:
                    errors:
                      title: "invalid_selected_delivery"
                      detail: "invalid selected delivery"
                InvalidShippingCost:
                  summary: invalid shipping cost
                  value:
                    errors:
                      title: "invalid_shipping_cost"
                      detail: "invalid shipping cost"
                InvalidPrice:
                  summary: invalid price
                  value:
                    errors:
                      title: "invalid_price"
                      detail: "invalid price"
                InvalidPlatformPartnerCoupon:
                  summary: invalid platform partner coupon
                  value:
                    errors:
                      title: "invalid_platform_partner_coupon"
                      detail: "invalid platform partner coupon"
                InvalidShopCoupon:
                  summary: invalid shop coupon
                  value:
                    errors:
                      title: "invalid_shop_coupon"
                      detail: "invalid shop coupon"
                InvalidPoint:
                  summary: invalid point
                  value:
                    errors:
                      title: "invalid_point"
                      detail: "invalid point"
                InvalidSummary:
                  summary: invalid summary
                  value:
                    errors:
                      title: "invalid_summary"
                      detail: "invalid summary"
                InvalidCouponPayment:
                  summary: invalid coupon payment
                  value:
                    errors:
                      title: "invalid_coupon_payment"
                      detail: "invalid coupon payment"
                InvalidIpp:
                  summary: invalid ipp
                  value:
                    errors:
                      title: "invalid_ipp"
                      detail: "invalid ipp"
                InvalidIppPromotion:
                  summary: invalid ipp promotion
                  value:
                    errors:
                      title: "invalid_ipp_promotion"
                      detail: "invalid ipp promotion"
                ErrorGetUserInfo:
                  summary: error get user info
                  value:
                    errors:
                      title: "error_get_user_info"
                      detail: "error get user info"
                NotfoundUserInfo:
                  summary: not found user info
                  value:
                    errors:
                      title: "notfound_user_info"
                      detail: "not found user info"
                ProductPriceOrShippingInvalid:
                  summary: product price or shipping invalid
                  value:
                    errors:
                      title: "product_price_or_shipping_invalid"
                      detail: "product price or shipping invalid"
                CreateOrderInventoryInvalid:
                  summary: create order inventory invalid
                  value:
                    errors:
                      title: "create_order_inventory_invalid"
                      detail: "create order inventory invalid"
        "401":
          description: Unauthorize
        "404":
          description: Not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/errorResponse"
              examples:
                CreatedButPaymentFailed:
                  summary: order created but payment failed
                  value:
                    errors:
                      title: "ORDER_CREATED_PAYMENT_FAILED"
                      detail: "Order created but payment failed, please check order status and re-pay"
                      additionalFields:
                        data:
                          expiresAt: "2021-01-01T00:00:00Z"
                          msg: ""
                          orderNo: "TEST_ORDER"
                          orderStatus: "PLACED"
                          paymentType: "QR"
                          authorizeUrl: ""
                          scannableCode: ""
                          transactionId: "zzzzzzzz"
                ErrorGetPromotionDetail:
                  summary: error get promotion detail
                  value:
                    errors:
                      title: "error_get_promotion_detail"
                      detail: "error get promotion detail"
                ErrorBreakdownSaleOrder:
                  summary: error breakdown sale order
                  value:
                    errors:
                      title: "error_breakdown_sale_order"
                      detail: "error breakdown sale order"
                ErrorGetNoncnocDiscountPoint:
                  summary: error get noncnoc discount point
                  value:
                    errors:
                      title: "error_get_noncnoc_discount_point"
                      detail: "error get noncnoc discount point"
                ErrorGetAddress:
                  summary: error get address
                  value:
                    errors:
                      title: "error_get_address"
                      detail: "error get address"
                ErrorProductRepository:
                  summary: error product repository
                  value:
                    errors:
                      title: "error_product_repository"
                      detail: "cannot get products by SKUs from repository"
                ErrorCouponPaymentValidate:
                  summary: error coupon payment validate
                  value:
                    errors:
                      title: "error_coupon_payment_validate"
                      detail: "error coupon payment validate"
                ErrorPromotionPartnershipValidate:
                  summary: error promotion partnership validate
                  value:
                    errors:
                      title: "error_promotion_partnership_validate"
                      detail: "error promotion partnership validate"
                ErrorIppAssignment:
                  summary: error ipp assignment
                  value:
                    errors:
                      title: "error_ipp_assignment"
                      detail: "error ipp assignment"
                ErrorCreateOrder:
                  summary: error create order
                  value:
                    errors:
                      title: "error_create_order"
                      detail: "error create order"
                CreateOrderUnsuccessful:
                  summary: create order unsuccessful
                  value:
                    errors:
                      title: "create_order_unsuccessful"
                      detail: "create order unsuccessful"
  /v1/admin/orders/{orderNo}:
    put:
      tags:
        - Admin Order
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-os
          in: header
          description: android, ios, desktop, tablet, mobile
          required: false
          schema:
            type: string
        - name: x-nocnoc-cookie-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-session-id
          in: header
          description: Required when x-nocnoc-platform is web
          required: false
          schema:
            type: string
        - name: x-nocnoc-device-id
          in: header
          description: Required in guest mode
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: orderNo
          in: path
          required: true
          schema:
            type: string
      security:
        - bearer: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/adminUpdateOrderTransactionRequest"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/adminUpdateOrderTransactionResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
              examples:
                orderNumberShouldNotNull:
                  summary: orderNumber should not null
                  value:
                    errors:
                      title: invalid_order_number
                      message: order_number should not be null
                transactionIdShouldNotNull:
                  summary: transactionId should not null
                  value:
                    errors:
                      title: invalid_transactionId
                      message: transactionId should not be null
                orderNotFound:
                  summary: order not found
                  value:
                    errors:
                      title: order_not_found
                      message: order not found
                orderStatusNotAllow:
                  summary: order status not allow
                  value:
                    errors:
                      title: order_status_not_allow
                      message: order status not allow
                invalidTransactionPattern:
                  summary: invalid transaction pattern
                  value:
                    errors:
                      title: invalid_transaction_pattern
                      message: invalid transaction pattern
                orderNumberIsExpired:
                  summary: order number is expired
                  value:
                    errors:
                      title: requested_over_expire_time
                      message: requested has over expired time
        "403":
          description: forbidden
        "401":
          description: unauthorize

        "500":
          description: internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
              examples:
                unexpectedError:
                  summary: unexpected error
                  value:
                    errors:
                      title: unexpected_error
                      message: unexpected error
  /v1/admin/orders/{orderNo}/payment/link:
    post:
      tags:
        - Admin Order
      parameters:
        - name: x-nocnoc-platform
          in: header
          description: app / web
          required: false
          schema:
            type: string
        - name: Accept-Language
          in: header
          description: Not Required But Default value en
          required: false
          schema:
            type: string
        - name: orderNo
          in: path
          required: true
          schema:
            type: string
      security:
        - bearer: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/adminCreateOrderPaymentLinkRequest"
      responses:
        "201":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/adminCreateOrderPaymentLinkResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
              examples:
                badRequest:
                  summary: bad request
                  value:
                    errors:
                      title: invalid_parameter
                      message: bad request
        "403":
          description: forbidden
        "401":
          description: unauthorize
        "500":
          description: internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/errorResponse"
              examples:
                unexpectedError:
                  summary: unexpected error
                  value:
                    errors:
                      title: unexpected_error
                      message: unexpected error

components:
  schemas:
    createUserAddressV2Request:
      description: Default orgIdfier is "scg", currently not required.
      required:
        - buyerEmail
        - defaultAddress
        - fullName
        - phoneNo
        - city
        - state
        - country
        - zipCode
        - addressLine1
        - subDistrictName
        - subDistrictCode
        - districtName
        - districtCode
        - addressType
      type: object
      properties:
        buyerEmail:
          type: string
          example: buyer@email.com
        defaultAddress:
          type: boolean
          example: true
        fullName:
          type: string
          example: "John Doe"
        phoneNo:
          type: string
          example: "0812345678"
        city:
          type: string
          example: "Bangkok"
        state:
          type: string
          example: "Bangkok"
        country:
          type: string
          example: "Thailand"
        zipCode:
          type: string
          example: "10210"
        addressLine1:
          type: string
          example: "123 Example St"
        subDistrictName:
          type: string
          example: "Khlong Toei"
        subDistrictCode:
          type: string
          example: "101101"
        districtName:
          type: string
          example: "Khlong Toei"
        districtCode:
          type: string
          example: "1011"
        addressType:
          type: string
          example: "HOME"
    userAddress:
      type: object
      properties:
        addressId:
          type: integer
          example: 233049
        addressIdfier:
          type: string
          example: "ADDRS_1722410118947"
        userId:
          type: integer
          example: 223334
        defaultAddress:
          type: boolean
          example: true
        fullName:
          type: string
          example: "John Doe"
        phoneNo:
          type: string
          example: "0812345678"
        phoneVerified:
          type: boolean
          example: true
        city:
          type: string
          example: "Bangkok"
        state:
          type: string
          example: "Bangkok"
        country:
          type: string
          example: "Thailand"
        zipCode:
          type: string
          example: "10210"
        addressLine1:
          type: string
          example: "123 Example St"
        subDistrictName:
          type: string
          example: "Khlong Toei"
        subDistrictCode:
          type: string
          example: "101101"
        districtName:
          type: string
          example: "Khlong Toei"
        districtCode:
          type: string
          example: "1011"
        additionalPhoneNo:
          type: string
          example: "0812345678"
        landmark:
          type: string
          example: "Near BTS"
        addressType:
          type: string
          example: "HOME"
        alternateAddress:
          type: string
        latitude:
          type: number
          example: 13.723418
        longitude:
          type: number
          example: 100.476231
        orgIdfier:
          type: string
          example: "scg"
    baseQuotationRequest:
      type: object
      required:
        - quotationSignature
        - quotationData
      properties:
        quotationSignature:
          type: string
          example: hash HMAC
        quotationData:
          type: string
          example: BASE564
    promotionRequest:
      allOf:
        - $ref: "#/components/schemas/baseQuotationRequest"
      type: object
      properties:
        couponCodes:
          type: array
          items:
            type: string
    userOrderListRequest:
      type: object
      properties:
        lang:
          type: string
          example: th
        userType:
          type: string
          example: BUYER
          enum:
            - BUYER
            - ADMIN
        locale:
          type: string
          example: th
          enum:
            - th
            - en
        userId:
          type: number
          example: 10
        limit:
          type: number
          example: 10
        page:
          type: number
          example: 1
        tabType:
          type: string
          example: OPEN
        itemType:
          type: string
          example: sale-orders
        filter:
          type: object
          properties:
            searchTerm:
              type: string
            orderStatus:
              type: string
              example: PAYMENT_PENDING
    userOrderListResponse:
      type: object
      required:
        - status
        - data
      properties:
        status:
          type: string
          example: SUCCESS
          enum:
            - SUCCESS
            - FAILED
        data:
          type: object
          properties:
            limit:
              type: number
              example: 10
            page:
              type: number
              example: 1
            tabType:
              type: string
              example: OPEN
            itemType:
              type: string
              example: sale-orders
            items:
              type: array
              items:
                $ref: "#/components/schemas/userOrderItem"
            cancellable:
              type: boolean
            extraInfo:
              $ref: "#/components/schemas/userOrderExtraInfo"
        errors:
          type: object
          properties:
            code:
              type: string
              example: forbidden
            ref:
              type: string
            msg:
              type: string
    userOrderExtraInfo:
      type: object
      properties:
        statusFilter:
          $ref: "#/components/schemas/userOrderStatusFilter"
        cancelReason:
          $ref: "#/components/schemas/userOrderCancelReason"

    userOrderStatusFilter:
      type: object
      properties:
        field:
          type: string
          example: "orderStatus"
        options:
          type: array
          items:
            type: string
          example:
            - "ALL_OPEN_STATUS"
            - "PAYMENT_PENDING"
            - "PAYMENT_EXPIRED"
            - "ON_HOLD"
            - "PLACED"
            - "ACCEPTED"
            - "READY_TO_SHIP"
            - "IN_TRANSIT"

    userOrderCancelReason:
      type: object
      properties:
        ALL:
          type: array
          items:
            $ref: "#/components/schemas/cancelReasonItem"

    cancelReasonItem:
      type: object
      properties:
        code:
          type: string
          example: "SELLER_REQUESTED_EXTEND_DELIVERY_TIME"
        text:
          type: string
          example: "Seller requested to extend the delivery time"
        sequence:
          type: integer
          example: 800
    userOrderItem:
      type: object
      properties:
        orderNo:
          type: string
          example: "NN-3D34HV3YLDSWV"
        userId:
          type: string
          example: "6565"
        orderPlacedDate:
          type: string
          nullable: true
          example: ""
        orderPlacedTime:
          type: string
          nullable: true
          example: ""
        totalAmount:
          type: string
          format: decimal
          example: "4000.00"
        billingAddress:
          type: string
          example: ""
        retryPaymentDueTime:
          type: integer
          format: int64
          example: 1722509062000000000
        deliveryAddress:
          $ref: "#/components/schemas/deliveryAddress"
        orderCanCancel:
          type: boolean
          example: true
        buyerCanCancelShipment:
          type: boolean
          example: true
        canRetryPay:
          type: boolean
          example: true
        paidOrder:
          type: boolean
          example: false
        paymentSlipUrl:
          type: string
          example: ""
        paymentReference:
          type: string
          format: uuid
          example: "543f1881-688d-4b4c-9ce4-7ce74963552a"
        paymentType:
          type: string
          example: "CARD"
        status:
          type: string
          example: "PAYMENT_PENDING"
    deliveryAddress:
      type: object
      properties:
        addressIdfier:
          type: string
          example: "UNIQUE_ADDRESS_001"
        addressLine1:
          type: string
          example: "123 Example St"
        addressLine2:
          type: string
          example: ""
        fullName:
          type: string
          example: "John Doe"
        phoneNo:
          type: string
          example: "+66910396309"
        city:
          type: string
          example: "Pathum Thani"
        state:
          type: string
          example: "string"
        country:
          type: string
          example: "Countryland"
        zipCode:
          type: string
          example: "12130"
        subDistrictCode:
          type: string
          example: "130601"
        subDistrictName:
          type: string
          example: "Tambon Khu Khot"
        districtCode:
          type: string
          example: "1306"
        districtName:
          type: string
          example: "Amphoe Lam Luk Ka"
        additionalPhoneNo:
          type: string
          example: "string"
        landmark:
          type: string
          example: "Near the central mall"
        addressType:
          type: string
          example: "Home"
        alternateAddress:
          type: string
          example: "string"

    errorResponse:
      type: object
      properties:
        errors:
          type: object
          required: ["title", "detail"]
          properties:
            title:
              type: string
            detail:
              type: string
            additionalFields:
              type: object
    ippData:
      type: object
      description: "this object will appear if quotation meet ipp criteria"
      properties:
        descriptions:
          type: array
          items:
            type: object
            required:
              - isActive
              - bankCode
              - mdr
            properties:
              bankCode:
                type: string
                example: 123
              bankNameTh:
                type: string
                example: บัตรกรุงไทย จำกัด(มหาชน)
              bankNameEn:
                example: Krungthai Card
              mdr:
                type: number
                format: double
                example: 3.3
              isActive:
                type: boolean
              ippLists:
                $ref: "#/components/schemas/ippDescriptionItem"
    ippDescriptionItem:
      type: object
      required:
        - id
        - term
        - minAmount
      properties:
        id:
          type: number
          example: 1
        term:
          type: number
          example: 4
        nocnocSub:
          type: boolean
        sellerSub:
          type: boolean
        title:
          type: string
          example: 4 เดือน
        minAmount:
          type: number
          example: 3000
    quotationSummaryRequest:
      type: object
      required:
        - quotationSignature
        - quotationData
        - sellers
      properties:
        quotationSignature:
          type: string
          example: hmac
        quotationData:
          type: string
          example: base64
        couponCodes:
          type: array
          items:
            type: string
          example: [""]
        sellers:
          type: array
          items:
            type: object
            required:
              - id
              - saleOrders
            properties:
              id:
                type: number
              saleOrders:
                type: array
                items:
                  type: object
                  required:
                    - saleOrderRef
                    - defaultDeliveryOption
                  properties:
                    saleOrderRef:
                      type: string
                    defaultDeliveryOption:
                      type: object
                      required:
                        - carrierId
                      properties:
                        carrierId:
                          type: number
                          example: 12
        useNocnocPoint:
          type: boolean
          example: true
    quotationSummaryResponse:
      type: object
      required: ["data"]
      properties:
        data:
          type: object
          required:
            [
              "appliedPromotions",
              "totalPrice",
              "totalDiscount",
              "totalPriceAfterDiscount",
              "totalShippingFee",
              "totalShippingFeeAfterDiscount",
              "grandTotalDiscount",
              "grandTotal",
            ]
          properties:
            quotationData:
              type: string
              example: <base64>
            quotationSignature:
              type: string
              example: <hmac>
            ipp:
              $ref: "#/components/schemas/ippData"
            ippSuggestion:
              type: object
              properties:
                barType:
                  type: string
                  enum: [min_amount_not_reach, more_than_1_sku]
                  example: min_amount_not_reach
                modalType:
                  type: string
                  enum: [platform_ipp, seller_ipp]
                  example: platform_ipp
                minAmount:
                  type: number
                  example: 10000
                currency:
                  type: string
                  example: ฿
                badges:
                  type: array
                  items:
                    $ref: "#/components/schemas/Badge"
            coupons:
              type: array
              items:
                properties:
                  promotionId:
                    type: number
                    example: 12345678
                  couponCode:
                    type: string
                    example: "NN1234"
                  limitApplies:
                    type: number
                    example: 1
                  type:
                  
                    type: string
                    example: "NOCNOC_COUPON"
                  status:
                    type: string
                    enum: [VALID, NOTFOUND, ORDER_VALUE_NOT_REACH_MINIMUM]
                    example: "VALID"
            nocnocPoint:
              type: object
              properties:
                availablePoint:
                  type: number
                  example: 0
                isNocNocClubMember:
                  type: boolean
                  example: true
                pointBalance:
                  type: number
                  example: 0
                pointValue:
                  type: number
                  example: 0
            totalPrice:
              type: number
              example: 56300
            totalShopCouponDiscount:
              type: number
              example: 350
            totalPlatformDiscount:
              type: number
              example: 5630
            totalPartnerCouponDiscount:
              type: number
              example: 0
            totalVoucherDiscount:
              type: number
              example: 1000
            totalDiscount:
              type: number
              example: 6980
            totalNocnocPointDiscount:
              type: number
              example: 40
            totalPriceAfterDiscount:
              type: number
              example: 50320
            totalShippingFee:
              type: number
              example: 1770
            totalSellerShippingDiscount:
              type: number
              example: 10
            totalPlatformShippingDiscount:
              type: number
              example: 270
            totalShippingFeeAfterDiscount:
              type: number
              example: 280
            grandTotalDiscount:
              type: number
              example: 7300
            grandTotal:
              type: number
              example: 50770
            currency:
              type: string
              example: ฿
    shipmentDetailResponse:
      type: object
      properties:
        status:
          type: string
          example: SUCCESS
        data:
          type: array
          items:
            $ref: "#/components/schemas/shipment"
    shipmentDetailErrorResponse:
      type: object
      properties:
        status:
          type: string
          example: FAILED
        errors:
          type: array
          items:
            type: object
            properties:
              code:
                type: string
                example: Forbidden
              ref:
                type: string
              msg:
                type: string
    shipment:
      type: object
      properties:
        shipmentId:
          type: integer
        shipmentIdfier:
          type: string
        shipByDate:
          type: string
          nullable: true
        shipByDateRaw:
          type: string
          nullable: true
        expectedMinDeliveryDate:
          type: string
        expectedMaxDeliveryDate:
          type: string
        cancelledDate:
          type: string
          nullable: true
        expectedMinDeliveryDateRaw:
          type: string
        expectedMaxDeliveryDateRaw:
          type: string
        expectedDeliveryDateRaw:
          type: string
        actualDeliveryDateRaw:
          type: string
          nullable: true
        actualDeliveryDate:
          type: string
          nullable: true
        uploadedInvoice:
          type: boolean
        orderNo:
          type: string
        shipmentStatus:
          type: string
        trackingInfoProvided:
          type: boolean
        cancelReason:
          type: string
        shippingMethod:
          type: string
        sellerName:
          type: string
        sellerShopName:
          type: string
        carrierName:
          type: string
        carrierLogo:
          type: string
        expectedPickupDate:
          type: string
          nullable: true
        expectedDeliveryDate:
          type: string
        customerReqDeliveryDate:
          type: string
          nullable: true
        customerReqDeliveryDateRaw:
          type: string
          nullable: true
        sellerId:
          type: string
        downloadInvoiceUrl:
          type: string
        totalDiscount:
          type: number
          nullable: true
        totalAmount:
          type: string
        installationCost:
          type: number
        readyToShip:
          type: boolean
        billingAddress:
          type: string
        shipmentStatusCode:
          type: string
        freeSampleShipment:
          type: boolean
        buyerCanCancel:
          type: boolean
        buyerConditionalCancel:
          type: boolean
        cancellable:
          type: boolean
        paidOrder:
          type: boolean
        deliveryInProgress:
          type: boolean
        trackingNumbers:
          type: array
          items:
            type: string
          nullable: true
        madeToProduct:
          type: boolean
        userId:
          type: string
        createdUserId:
          type: integer
        invoiceOrigFileName:
          type: string
          nullable: true
        buyerPickupOpted:
          type: boolean
        couponCode:
          type: string
        note:
          type: string
        totalSavings:
          type: number
        installation:
          type: boolean
        listShipmentItems:
          type: array
          items:
            $ref: "#/components/schemas/shipmentItem"
    shipmentItem:
      type: object
      properties:
        skuNumber:
          type: string
        skuId:
          type: string
        skuName:
          type: string
        productWarranty:
          type: string
        quantity:
          type: string
        salePrice:
          type: string
        productInfo:
          $ref: "#/components/schemas/productInfo"
        itemId:
          type: integer
        imageUrl:
          type: string
        userReviewAvailable:
          type: boolean
        userReviewId:
          type: integer
        couponCode:
          type: string
        unit:
          type: string
        installationOrderId:
          type: string
          nullable: true
        installationType:
          type: string
          nullable: true
        categoryId:
          type: integer
        productionLeadTime:
          type: integer
        size:
          type: string
        weightInfo:
          type: string
        totalWeightInfo:
          type: string
        shippingNote:
          type: string
        mpn:
          type: string
        ratingTierThreshold:
          type: integer
        customMade:
          type: boolean
        sample:
          type: boolean
        productKind:
          type: string
    productInfo:
      type: object
      properties:
        title:
          type: string
        name:
          type: string
        desc:
          type: string
        id:
          type: integer
        brand:
          $ref: "#/components/schemas/brand"
        skuId:
          type: integer
        collectionId:
          type: integer
        skuNumber:
          type: string
        skuName:
          type: string
        sellerId:
          type: integer
        sellerName:
          type: string
          nullable: true
        shopName:
          type: string
        categoryId:
          type: integer
        inStock:
          type: boolean
        image:
          type: string
        customMade:
          type: boolean
        comingSoon:
          type: boolean
        lowStock:
          type: boolean
        price:
          type: number
        productSalePrice:
          type: number
          nullable: true
        salePriceEndDate:
          type: string
          nullable: true
        unit:
          type: string
        minQuantity:
          type: integer
        bulkQuantity:
          type: integer
          nullable: true
        bulkPrice:
          type: number
          nullable: true
        priceUnit:
          type: string
          nullable: true
        originalPrice:
          type: number
        originalQuantity:
          type: integer
        cheapestSince:
          type: string
          nullable: true
        priceEffectiveOn:
          type: string
          nullable: true
        pricePromotionStartDate:
          type: string
          nullable: true
        pricePromotionEndDate:
          type: string
          nullable: true
        freeShippingMov:
          type: number
          nullable: true
        unitDiscount:
          type: number
        freeShippingAssured:
          type: boolean
        imageUrl:
          type: string
    brand:
      type: object
      properties:
        image:
          type: string
        brandType:
          type: object
          properties:
            code:
              type: string
            value:
              type: string
        code:
          type: integer
        createdByAPI:
          type: boolean
          nullable: true
        brandID:
          type: string
          nullable: true
        ownerSupplierId:
          type: string
        isGlobal:
          type: boolean
          nullable: true
        o_id:
          type: integer
        smallLogo:
          type: object
          properties:
            imgUrl:
              type: string
            imgWidth:
              type: integer
            imgHeight:
              type: integer
        shortDesc:
          type: string
        shortName:
          type: string
        value:
          type: string
    CreateQuotationRequest:
      required:
        - sellers
        - addressId
      type: object
      properties:
        addressId:
          type: integer
          example: 1
        couponCodes:
          type: array
          items:
            type: string
            example: "1234"
        sellers:
          type: array
          items:
            type: object
            $ref: "#/components/schemas/CreateQuotationDetail"
    adminCreateQuotationRequest:
      required: ["buyerEmail"]
      allOf:
        - $ref: "#/components/schemas/CreateQuotationRequest"
      properties:
        buyerEmail:
          type: string
          example: buyer@email.com
    CreateQuotationDetail:
      type: object
      required:
        - sellerId
        - products
      properties:
        sellerId:
          type: string
          example: 123
        products:
          type: array
          items:
            type: object
            required:
              - skuNumber
              - quantity
            properties:
              skuNumber:
                type: string
                example: "123456"
              title:
                type: string
                example: "tv 42 inch"
              quantity:
                type: integer
                example: 10
    updateQuotationRequest:
      required:
        - quotationData
        - quotationSignature
      type: object
      properties:
        quotationSignature:
          type: string
          example: hmac
        quotationData:
          type: string
          example: base64
        addressId:
          type: number
          example: 11150
        invalidProducts:
          type: array
          items:
            type: object
            properties:
              skuNumber:
                type: string
                example: 123
              quantity:
                type: number
                example: 5
              sellerId:
                type: number
                example: 1234
                required:
                  - skuNumber
                  - quantity
                  - sellerId
        sellers:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                example: 0
              saleOrders:
                type: array
                items:
                  type: object
                  properties:
                    defaultDeliveryOption:
                      type: object
                      properties:
                        carrierId:
                          type: integer
                          example: 0
                    saleOrderRef:
                      type: string
                      example: "string"
    adminUpdateQuotationRequest:
      required:
        - buyerEmail
      allOf:
        - $ref: "#/components/schemas/updateQuotationRequest"
      properties:
        buyerEmail:
          type: string
          example: buyer@email.com
    quotationIppValidationRequest:
      type: object
      required:
        - quotationSignature
        - quotationData
      properties:
        quotationSignature:
          type: string
          example: hmac
        quotationData:
          type: string
          example: BASE64
        couponCodes:
          type: array
          items:
            type: string
          example: [""]
        useNocnocPoint:
          type: boolean
          example: true
    adminQuotationIppValidationRequest:
      required:
        - buyerEmail
      allOf:
        - $ref: "#/components/schemas/quotationIppValidationRequest"
      properties:
        buyerEmail:
          type: string
          example: buyer@email.com
    quotationIPPValidationResponse:
      type: object
      properties:
        data:
          type: object
          required:
            - canInstallment
            - quotationSignature
            - quotationData
          properties:
            quotationSignature:
              type: string
              example: "<quotationSignature>"
            quotationData:
              type: string
              example: "BASE64"
            canInstallment:
              type: boolean
              example: true
            ippDescriptions:
              type: array
              items:
                $ref: "#/components/schemas/ippDescription"
    ippDescription:
      type: object
      properties:
        bankCode:
          type: string
          example: 123
        bankNameTh:
          type: string
          example: "บัตรกรุงไทย จำกัด(มหาชน)"
        bankNameEn:
          type: string
          example: Krungthai Card
        mdr:
          type: number
          example: 0
        isActive:
          type: boolean
        ippLists:
          type: array
          items:
            type: object
            properties:
              id:
                type: number
                example: 1
              term:
                type: number
                example: 4
              rate:
                type: number
                example: 0
              nocnocSub:
                type: boolean
              sellerSub:
                type: boolean
              title:
                type: string
                example: 4 เดือน
              minAmount:
                type: number
                example: 3000

    adminQuotationBestCouponRequest:
      required:
        - buyerEmail
      allOf:
        - $ref: "#/components/schemas/baseQuotationRequest"
      properties:
        couponCodes:
          type: array
          items:
            type: string
        buyerEmail:
          type: string
          example: buyer@email.com
    adminBuyerEmailResponse:
      type: object
      properties:
        userId:
          type: integer
          example: 7676
        userEmail:
          type: string
          example: xxx@nocnoc.com
    bestPromotionResponse:
      type: object
      properties:
        meta:
          type: object
          properties:
            totalAppliedCount:
              type: number
              example: 3
        data:
          type: object
          required: ["coupons"]
          properties:
            coupons:
              type: array
              items:
                $ref: "#/components/schemas/coupons"
    couponItem:
      type: object
      required: ["id", "couponCode", "selected", "startedAt", "endedAt"]
      properties:
        id:
          type: number
          example: 1245
        title:
          type: string
          example: "ส่วนลด 12% สูงสุด ฿5,000"
          description: "bff will add this field for support frontend"
        promotionName:
          type: string
          example: summer sale
        couponCode:
          type: string
          example: "NN-12345"
        maxAllowedDiscount:
          type: number
          example: 5000
        discount:
          type: number
          format: double
          example: 5
        discountType:
          type: string
          example: PERCENT
          enum:
            - PERCENT
            - FLAT
        condition:
          type: string
          description: "TBC locale logic should in bff or be"
          example: "รับส่วนลด 12% สูงสุด ฿5,000 เมื่อช้อปครบ ฿10,000"
        description:
          type: string
          example: "คำอธิบายเพิ่มเติมอะไรก็ได้จ้า"
          description: field promotionDetails จาก promotion-service
        imageUrl:
          type: string
          example: "http://nocnoc.com"
        selected:
          type: boolean
          example: true
        startDate:
          type: string
          example: "2024-04-01T12:00:00Z"
        endDate:
          type: string
          example: "2024-04-01T12:00:00Z"
    coupons:
      type: object
      required: ["key", "limitApplies", "items"]
      properties:
        key:
          type: string
          example: "seller"
          enum:
            - seller
            - platform
            - partner
            - voucher

        limitApplies:
          type: integer
          example: 1
        items:
          type: array
          items:
            $ref: "#/components/schemas/couponItem"

    validationPromotionResponse:
      type: object
      properties:
        meta:
          type: object
          properties:
            totalAppliedCount:
              type: number
              example: 3
        data:
          type: object
          required: ["coupons"]
          properties:
            coupons:
              type: array
              items:
                $ref: "#/components/schemas/coupons"

    adminUpdateOrderTransactionRequest:
      type: object
      required:
        - transactionId
      properties:
        transactionId:
          type: string
    adminUpdateOrderTransactionResponse:
      type: object
      required:
        - orderNo
        - orderStatus
      properties:
        orderNo:
          type: string
          example: NN-123445678
        orderStatus:
          type: string
          enum:
            - PLACED
    adminCreateOrderPaymentLinkRequest:
      type: object
      required:
        - amount
        - expiresAt
      properties:
        amount:
          type: number
          example: 1235.32
        expiresAt:
          type: string
        currency:
          type: string
          example: THB
          default: THB
    adminCreateOrderPaymentLinkResponse:
      type: object
      required:
        - linkId
        - paymentLinkUrl
        - paymentStatusUrl
      properties:
        linkId:
          type: string
          example: q16j2t7uF2
        paymentLinkUrl:
          type: string
          example: "https://linksplus.omise.co/q16j2t7uF2"
        paymentStatusUrl:
          type: string
          example: "https://linksplus-dashboard.omise.co/en/overview/q16j2t7uF2"
        createdAt:
          type: string
          example: "2024-04-01T12:00:00Z"
        expiresAt:
          type: string
          example: "2024-04-01T12:00:00Z"
        amount:
          type: number
          example: 1235.32
        orderNumber:
          type: string
          example: "NN-123445678"
        templateId:
          type: string
          example: "1253"
        teamId:
          type: string
          example: "123"
        currency:
          type: string
          example: THB
    SellerDetailRequest:
      type: object
      required:
        - id
        - saleOrders
      properties:
        id:
          type: string
          example: 10
        saleOrders:
          type: array
          items:
            $ref: "#/components/schemas/SaleOrderDetailRequeset"
    SaleOrderDetailRequeset:
      type: object
      required:
        - saleOrderRef
        - defaultDeliveryOption
      properties:
        saleOrderRef:
          type: string
          example: 1847C5D06DF-182AA283221-1668533823437

        defaultDeliveryOption:
          type: object
          required:
            - carrierId
          properties:
            carrierId:
              type: number
              example: 12
    quotationResponse:
      type: object
      properties:
        data:
          type: object
          required:
            - quotation
            - quotationSignature
            - quotationData
          properties:
            quotationSignature:
              type: string
              example: hmac
            quotationData:
              type: string
              example: base64
            quotation:
              type: object
              $ref: "#/components/schemas/QuotationDetail"
            invalidProducts:
              type: array
              items:
                $ref: "#/components/schemas/invalidProduct"
    UpdateQuotationDetail:
      type: object
      required:
        - sellerId
        - products
      properties:
        sellerId:
          type: string
          example: 123
        products:
          type: array
          items:
            type: object
            properties:
              skuNumber:
                type: string
                example: "123456"
              quantity:
                type: integer
                example: 10
    QuotationDetail:
      type: object
      required:
        - quotationId
        - addressId
        - sellers
      properties:
        quotationId:
          type: string
          example: MMDD-{{timestamp}}
        addressId:
          type: number
          example: 12
        sellers:
          type: array
          items:
            $ref: "#/components/schemas/QuotationSellerDetail"
    invalidProduct:
      type: object
      required:
        - skuNumber
        - type
      properties:
        skuNumber:
          type: string
          example: 123456
        type:
          type: string
          example: OUT_OF_STOCK | UNAVAILABLE | OUT_OF_AREA | QUANTITY_OVER_AVAIABLE_STOCK | QUANTITY_LESS_THAN_MIN_QUANTIY
        quantity:
          type: number
          example: 5
        sellerId:
          type: number
          example: 1234
        price:
          type: number
          example: 12850.58
        priceOriginal:
          type: number
          example: 22850.58
        title:
          type: string
          example: สินค้า
        imageUrl:
          type: string
          example: http://cdn.nocnoc.com
        collectionName:
          type: string
          example: white ,1
        currency:
          type: string
          example: ฿
        categoryId:
          type: number
          example: 12245
        category:
          type: string
          example: Electronic Appliances
        subCategory:
          type: string
          example: Air Conditioners
        subSubCategory:
          type: string
          example: Air Conditioner
    QuotationSellerDetail:
      type: object
      required:
        - id
        - name
        - saleOrders
      properties:
        id:
          type: string
          example: 10
        name:
          type: string
          example: "nocnoc"
        logo:
          type: string
          example: "http://cdn.nocnoc.com"
        pageUrl:
          type: string
          example: "http://cdn.nocnoc.com"
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagDetail"
        promotion:
          type: object
          properties:
            shopPromotion:
              type: object
              properties:
                discount:
                  type: number
                  format: float
                  example: 125.51
        saleOrders:
          type: array
          items:
            $ref: "#/components/schemas/SaleOrderDetail"
    SaleOrderDetail:
      type: object
      required:
        - products
        - saleOrderRef
        - defaultDeliveryOption
        - deliveryOptions
      properties:
        saleOrderRef:
          type: string
          example: 1847C5D06DF-182AA283221-1668533823437

        products:
          type: array
          items:
            $ref: "#/components/schemas/SaleOrderProductDetail"
        defaultDeliveryOption:
          type: object
          required:
            - carrierId
          properties:
            carrierId:
              type: number
              example: 12
        deliveryOptions:
          type: array
          items:
            $ref: "#/components/schemas/DeliveryOptionDetail"
    SaleOrderProductDetail:
      type: object
      required:
        - skuNumber
        - price
        - priceOriginal
        - currency
      properties:
        skuNumber:
          type: string
          example: 120123
        title:
          type: string
          example: https://cdn.nocnoc.com
        pageUrl:
          type: string
          example: https://cdn.nocnoc.com
        imageUrl:
          type: string
          example: https://cdn.nocnoc.com
        badges:
          type: array
          items:
            $ref: "#/components/schemas/Badge"
        price:
          type: number
          example: 120.12
        priceOriginal:
          type: number
          example: 120.12
        currency:
          type: string
          example: ฿
        quantity:
          type: integer
          example: 10
        collectionName:
          type: string
          example: white ,1
        categoryId:
          type: number
          example: 12245
        category:
          type: string
          example: Electronic Appliances
        subCategory:
          type: string
          example: Air Conditioners
        subSubCategory:
          type: string
          example: Air Conditioner
    Badge:
      type: object
      required:
        - backgroundColor
        - textColor
        - borderColor
        - type
        - name
        - key
      properties:
        key:
          type: string
          example: example
        name:
          type: string
          example: example
        type:
          type: string
          example: badge
        backgroundColor:
          type: string
          example: hex
        borderColor:
          type: string
          example: hex
        textColor:
          type: string
          example: hex
        items:
          type: array
          items:
            type: object
            required:
              - iconUrl
              - title
              - description
            properties:
              iconUrl:
                type: string
                example: "http://cdn.nocnoc.com"
              title:
                type: string
                example: ออกใบกำกับภาษีได้
              description:
                type: string
                example: สามารถออกใบกำกับภาษีได้

    TagDetail:
      type: object
      required:
        - iconUrl
      properties:
        key:
          type: string
          example: quality-shop
        name:
          type: string
          example: quality-shop
        iconUrl:
          type: string
          example: "http://cdn.nocnoc.com"
    DeliveryOptionDetail:
      type: object
      required:
        - carrierId
        - carrierName
        - finalShippingCost
        - shippingCost
        - currency
        - title
        - description
        - minExpectedDeliveryTime
        - maxExpectedDeliveryTime
        - expectedDeliveryDateLabel
        - expectedDeliveryDate
      properties:
        carrierId:
          type: integer
          example: 1
        carrierName:
          type: string
          example: Kerry
        minExpectedDeliveryTime:
          type: string
          format: date-time
        maxExpectedDeliveryTime:
          type: string
          format: date-time
        expectedDeliveryDateLabel:
          type: string
          example: "รับได้ตั้งแต่"
        expectedDeliveryDate:
          type: string
          example: "25 เม.ย.65 - 30 เม.ย. 65"

        finalShippingCost:
          type: number
          example: 10
        shippingCost:
          type: number
          example: 50
        platformShippingDiscount:
          type: number
          example: 100
        sellerShippingDiscount:
          type: number
          example: 20
        optionType:
          type: string
          example: standardDelivery
        title:
          type: string
          example: "<tag>จัดส่งโดยร้านค้า</tag>"
        description:
          type: string
          example: "<tag>บริการโดยรถขนส่ง</tag>"
        warehouseAddress:
          type: string
          example: "22 ซอยสามัคคี 3 ถนนประชาชื่น แขวง ท่าทราย เขตห้วยขวาง กรุงเทพมหานคร"
        carrierType:
          type: string
          example: standard
        currency:
          type: string
          example: ฿
    CartResponse:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/ReadCartResponseData"
        unavailableProducts:
          type: array
          items:
            oneOf:
              - $ref: "#/components/schemas/UnavailableProductOutOfStock"
              - $ref: "#/components/schemas/UnavailableProductUnavailable"
    ReadCartResponseData:
      type: object
      properties:
        cartId:
          type: string
          example: 10
        totalItemCount:
          type: integer
          example: 139
        sellers:
          type: array
          items:
            $ref: "#/components/schemas/ReadCartSeller"
        announcements:
          type: array
          items:
            $ref: "#/components/schemas/Announcement"

    ReadCartSeller:
      type: object
      properties:
        id:
          type: string
          example: 67614
        name:
          type: string
          example: ABC
        logo:
          type: string
          format: uri
          example: https://qa-cdn.nocnoc-internal.com/static-content/assets/portal-assets/67614/product/images/107/nnfreeshipping_656421862fb14__100x100.jpg
        pageUrl:
          type: string
          format: uri
          example: https://qa-cdn.nocnoc-internal.com/static-content/assets/portal-assets/67614/product/images/107/nnfreeshipping_656421862fb14__100x100.jpg
        tags:
          type: array
          items:
            $ref: "#/components/schemas/Tag"
        products:
          type: array
          items:
            $ref: "#/components/schemas/ReadCartProduct"
        promotions:
          $ref: "#/components/schemas/Promotions"

    Tag:
      type: object
      properties:
        key:
          type: string
          example: quality-shop
        name:
          type: string
          example: quality-shop
        iconUrl:
          type: string
          format: uri
          example: http://cdn.nocnoc.com/2

    ReadCartProduct:
      type: object
      properties:
        id:
          type: string
          example: ggghh-dsad-sdfdsf
        active:
          type: boolean
          example: false
        skuNumber:
          type: string
          example: 12005147
        selected:
          type: boolean
          example: true
        title:
          type: string
          example: "TEST: NocNoc Promo_TH Shipping Promotion"
        pageUrl:
          type: string
          format: uri
          example: https://qa-cdn.nocnoc-internal.com/static-content/assets/portal-assets/67614/product/images/107/nnfreeshipping_656421862fb14__100x100.jpg
        imageUrl:
          type: string
          format: uri
          example: https://qa-cdn.nocnoc-internal.com/static-content/assets/portal-assets/67614/product/images/107/nnfreeshipping_656421862fb14__100x100.jpg
        badges:
          type: array
          items:
            $ref: "#/components/schemas/Badge"
        price:
          type: number
          format: float
          example: 12850.12
        priceOriginal:
          type: number
          format: float
          example: 12900.10
        priceAtAddCartDate:
          type: number
          format: float
          example: 12900.59
        currency:
          type: string
          example: ฿
        discountLabel:
          type: string
          example: ถูกลง ฿20 หลังใส่รถเข็น" || "หลังหักส่วนลด
        minQuantity:
          type: integer
          example: 1
        quantity:
          type: integer
          example: 1
        stock:
          type: integer
          example: 9998
        collectionName:
          type: string
          example: white ,1
        categoryId:
          type: number
          example: 12245
        category:
          type: string
          example: Electronic Appliances
        subCategory:
          type: string
          example: Air Conditioners
        subSubCategory:
          type: string
          example: Air Conditioner
        unit:
          type: string
          example: กล่อง
        bundles:
          type: array
          items:
            $ref: "#/components/schemas/Bundle"
    Bundle:
      type: object
      properties:
        id:
          type: string
          example: hhyy-mmhhxc
        skuNumber:
          type: string
          example: 123456
        selected:
          type: boolean
          example: true
        title:
          type: string
          example: ล้างแอร์
        imageUrl:
          type: string
          format: uri
          example: http://cdn.nocnoc.com
        parentId:
          type: string
          example: 12005147
        price:
          type: number
          format: float
          example: 12850.10
        priceOriginal:
          type: number
          format: float
          example: 12900.01
        priceAtAddCartDate:
          type: number
          format: float
          example: 12900.01
        currency:
          type: string
          example: ฿
        discountLabel:
          type: string
          example: ถูกลง ฿20 หลังใส่รถเข็น" || "หลังหักส่วนลด
        minQuantity:
          type: integer
          example: 1
        quantity:
          type: integer
          example: 1
        stock:
          type: integer
          example: 9998
        collectionName:
          type: string
          example: ""

    Promotions:
      type: object
      properties:
        shopPromotions:
          $ref: "#/components/schemas/PromotionDetails"
        shippingPromotions:
          $ref: "#/components/schemas/ShippingPromotionDetails"
    PromotionDetails:
      type: object
      properties:
        discount:
          type: number
          format: float
          example: 5000.10
        items:
          type: array
          items:
            $ref: "#/components/schemas/PromotionItem"
    ShippingPromotionDetails:
      type: object
      properties:
        discount:
          type: number
          format: float
        items:
          type: array
          items:
            $ref: "#/components/schemas/ShippingPromotionItem"
    PromotionItem:
      type: object
      properties:
        id:
          type: integer
          example: 182924
        title:
          type: string
          example: ส่วนลด 12%  สูงสุด 5000 บาท
        promotionName:
          type: string
          example: Summer Sale
        couponCode:
          type: string
          example: NN-12345
        maxAllowedDiscount:
          type: number
          format: float
          example: 500.10
        discount:
          type: number
          format: float
          example: 3
        discountType:
          type: string
          example: PERCENT
        condition:
          type: string
          example: รับส่วนลด 12% สูงสุด ฿5,000 เมื่อช้อปครบ ฿10,000
        description:
          type: string
          example: คำอธิบายเพิ่มเติมอะไรก็ได้จ้า
        startDate:
          type: string
          format: date-time
          example: 2024-03-14T17:00:00Z
        endDate:
          type: string
          format: date-time
          example: 2024-03-14T17:00:00Z
    ShippingPromotionItem:
      type: object
      properties:
        id:
          type: integer
          example: 153581
        shippingType:
          type: string
          example: freeshipping
        promotionName:
          type: string
          example: จัดส่งฟรี
        marketingMessage:
          type: string
          example: จัดส่งฟรีทั่วประเทศ
        shippingMethods:
          type: array
          items:
            type: string
            example: sellerDelivery
        startDate:
          type: string
          format: date-time
          example: 2024-03-14T17:00:00Z
        endDate:
          type: string
          format: date-time
          example: 2024-03-14T17:00:00Z
    Announcement:
      type: object
      properties:
        title:
          type: string
          example: ซื้ออีก ฿5466.0 เพื่อซื้อแบบผ่อนชำระ
        level:
          type: string
          example: info
        key:
          type: string
          example: platformintsallment
    UnavailableProductOutOfStock:
      type: object
      properties:
        id:
          type: string
          example: 1234
        skuNumber:
          type: string
          example: 10001123
        type:
          type: string
          enum: [OUT_OF_STOCK]
        price:
          type: number
          format: float
          example: 1294.50
        priceOriginal:
          type: number
          format: float
          example: 12900.10
        title:
          type: string
          example: โซฟาถูกและดี
        imageUrl:
          type: string
          format: uri
          example: http://cdn.nocnoc.com
        collectionName:
          type: string
          example: white ,1
        currency:
          type: string
          example: ฿
        categoryId:
          type: number
          example: 12245
        category:
          type: string
          example: Electronic Appliances
        subCategory:
          type: string
          example: Air Conditioners
        subSubCategory:
          type: string
          example: Air Conditioner
    UnavailableProductUnavailable:
      type: object
      properties:
        id:
          type: string
          example: 1234
        skuNumber:
          type: string
          example: 10001123
        type:
          type: string
          enum: [UNAVAILABLE]
        title:
          type: string
          example: โซฟาถูกและดี
    createOrderRequest:
      type: object
      required: ["quotationSignature", "quotationData", "payment"]
      properties:
        quotationSignature:
          type: string
          example: <hmac>
        quotationData:
          type: string
          example: <base64>
        isSmsEnabled:
          type: boolean
        isTaxRequired:
          type: boolean
        payment:
          type: object
          $ref: "#/components/schemas/payment"
        taxAddress:
          type: object
          $ref: "#/components/schemas/taxAddress"
        integrationParams:
          type: object
          $ref: "#/components/schemas/integrationParams"
    payment:
      required: ["paymentType", "currency"]
      type: object
      properties:
        cardId:
          type: string
        cardNumber:
          type: string
        currency:
          type: string
        ippTerm:
          type: integer
        paymentType:
          type: string
          example: "CARD | IPP | QR"
        redirectUrl:
          type: string
    taxAddress:
      type: object
      required:
        - taxId
      properties:
        addressLine1:
          type: string
        addressLine2:
          type: string
        branchCode:
          type: string
        districtName:
          type: string
        fullName:
          type: string
        phoneNo:
          type: string
        province:
          type: string
        subDistrictName:
          type: string
        taxId:
          type: string
        taxType:
          type: string
        zipCode:
          type: string
    integrationParams:
      type: object
      properties:
        fallback:
          type: string
        refId:
          type: string
        sourceTime:
          type: integer
        utmContent:
          type: string
        utmMedium:
          type: string
        utmSource:
          type: string
        utmTerm:
          type: string
    createOrderResponse:
      type: object
      required: ["data"]
      properties:
        data:
          type: object
          $ref: "#/components/schemas/order"
    order:
      type: object
      properties:
        authorizeUrl:
          type: string
        expiresAt:
          type: string
        amount:
          type: number
          format: float64
          example: 2000.57
        msg:
          type: string
        orderNo:
          type: string
        orderStatus:
          type: string
        paymentType:
          type: string
        scannableCode:
          type: string
        transactionId:
          type: string
    adminCreateOrderRequest:
      type: object
      required: ["quotationSignature", "quotationData", "payment", "buyerEmail"]
      properties:
        quotationSignature:
          type: string
          example: <hmac>
        quotationData:
          type: string
          example: <base64>
        isSmsEnabled:
          type: boolean
        isTaxRequired:
          type: boolean
        payment:
          type: object
          $ref: "#/components/schemas/payment"
        taxAddress:
          type: object
          $ref: "#/components/schemas/taxAddress"
        buyerEmail:
          type: string
          example: buyer@email.com
        integrationParams:
          type: object
          $ref: "#/components/schemas/integrationParams"
    retryPaymentRequest:
      type: object
      required:
        - paymentType
        - redirectUrl
      properties:
        paymentType:
          type: string
        cardId:
          type: string
        ippTerm:
          type: integer
        redirectUrl:
          type: string
    retryPaymentResponse:
      type: object
      properties:
        data:
          type: object
          properties:
            transactionId:
              type: string
            paymentType:
              type: string
              enum:
                - CARD
                - IPP
                - QR
            status:
              type: string
            customerRefNo:
              type: string
            cardId:
              type: string
            amount:
              type: number
              format: float64
              example: 200.56
            currency:
              type: string
              example: THB
            authorizeUrl:
              type: string
            scannableCode:
              type: string
            ippTerm:
              type: integer
            expiresAt:
              type: string
              format: date
              example: 2024-08-21T00:00:00Z
            redirectUrl:
              type: string
            metadata:
              type: object
              properties:
                checkoutSummary:
                  type: object
                ippInfo:
                  type: object
    adminCreateBuyerRequest:
      type: object
      required:
        - email
        - fullName
        - phoneNo
      properties:
        email:
          type: string
          example: "john.doe@email.com"
        fullName:
          type: string
          example: "John Doe"
        phoneNo:
          type: string
          example: "+66812345678"
        phoneCountryCode:
          type: string
          example: "+66"
          description: "optional, default +66"
    adminCreateBuyerResponse:
      type: object
      properties:
        data:
          type: object
          properties:
            userId:
              type: integer
              example: 1234
            status:
              type: string
              example: "SUCCESS"
            verificationToken:
              type: string
              example: "N3UrrRCnskyCBKLKmSelL7NcZD"
  securitySchemes:
    bearer:
      type: http
      scheme: bearer
      bearerFormat: "JWT"

security:
  - bearer: []
